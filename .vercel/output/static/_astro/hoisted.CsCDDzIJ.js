import{_ as f}from"./hoisted.CLv4g-nk.js";function g(n,r){navigator.clipboard.writeText(n).then(()=>{})}(function(){typeof window<"u"&&window.currentPlayingAudio===void 0&&(window.currentPlayingAudio=null);function n(e,a){if(!e){console.error("No audio URL provided for sound:",a);return}if(window.currentPlayingAudio)try{window.currentPlayingAudio.pause(),window.currentPlayingAudio.currentTime=0,window.currentPlayingAudio.src=""}catch{}const t=new Audio(e);t.preload="auto";let o=!1,s=null;const c=()=>{s&&(clearTimeout(s),s=null),t.removeEventListener("loadstart",l),t.removeEventListener("loadedmetadata",l),t.removeEventListener("loadeddata",l),t.removeEventListener("canplay",l),t.removeEventListener("error",u)},l=()=>{if(o)return;o=!0,c(),t.currentTime=0;const v=t.play();v!==void 0&&v.then(()=>{window.currentPlayingAudio=t,t.addEventListener("ended",()=>{window.currentPlayingAudio===t&&(window.currentPlayingAudio=null)},{once:!0})}).catch(d=>{console.warn("Audio play failed:",d.message||d,"URL:",e)})},u=v=>{if(o)return;const d=t.error;console.warn("Audio load error:",d?.message||"Unknown error","URL:",e),t.readyState>=0&&l()};t.addEventListener("loadstart",l,{once:!0}),t.addEventListener("loadedmetadata",l,{once:!0}),t.addEventListener("loadeddata",l,{once:!0}),t.addEventListener("canplay",l,{once:!0}),t.addEventListener("error",u,{once:!0}),s=setTimeout(()=>{o||l()},100)}function r(e){if(e.dataset.initialized==="true")return;const a=e.getAttribute("data-audio-url"),t=e.getAttribute("data-sound-id");!a||!t||(e.dataset.initialized="true",e.addEventListener("click",o=>{o.preventDefault(),o.stopPropagation(),e.classList.add("pressed"),n(a,t),setTimeout(()=>{e.classList.remove("pressed")},150)}),e.addEventListener("mousedown",o=>{o.preventDefault(),o.stopPropagation(),e.classList.add("pressed")}),e.addEventListener("mouseup",()=>{e.classList.remove("pressed")}),e.addEventListener("mouseleave",()=>{e.classList.remove("pressed")}),e.addEventListener("touchstart",o=>{o.preventDefault(),o.stopPropagation(),e.classList.add("pressed"),n(a,t)}),e.addEventListener("touchend",o=>{o.preventDefault(),e.classList.remove("pressed")}))}function i(){document.querySelectorAll('.sprite-wrapper:not([data-initialized="true"])').forEach(r)}if(window.SoundBoard=window.SoundBoard||{},window.SoundBoard.initAllSoundButtons=i,window.SoundBoard.initActionButtons=p,window.SoundBoard.playAudio=n,document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i(),typeof MutationObserver<"u"){const e=new MutationObserver(()=>{i()});document.body&&e.observe(document.body,{childList:!0,subtree:!0})}})();function p(){f(async()=>{const{addToFavorites:n,removeFromFavorites:r,fetchUserFavorites:i}=await import("./api.Ba0nkDO7.js");return{addToFavorites:n,removeFromFavorites:r,fetchUserFavorites:i}},[]).then(({addToFavorites:n,removeFromFavorites:r,fetchUserFavorites:i})=>{f(async()=>{const{getAuthToken:e}=await import("./auth.BPmtC0_i.js");return{getAuthToken:e}},[]).then(({getAuthToken:e})=>{const a=e();a&&i(a,1,100).then(t=>{if(t&&t.results){const o=new Set(t.results.map(s=>s.id));document.querySelectorAll(".favorite-btn").forEach(s=>{const c=parseInt(s.getAttribute("data-sound-id"));if(o.has(c)){const l=s.querySelector("svg");l&&l.setAttribute("fill","currentColor");const u=s.closest(".instant");u&&(u.dataset.is_favorited="true")}})}}).catch(t=>console.error("Error fetching favorites:",t)),document.querySelectorAll(".favorite-btn").forEach(t=>{["click","mousedown","touchstart"].forEach(o=>{t.addEventListener(o,s=>{s.stopPropagation(),s.preventDefault()},{passive:!1})}),t.addEventListener("click",async o=>{o.stopPropagation(),o.preventDefault();const s=t.getAttribute("data-sound-id"),c=e();if(!c){window.location.href="/login";return}if(!s)return;const l=parseInt(s),u=t.querySelector("svg"),v=u?.getAttribute("fill")==="currentColor";try{let d=!1;if(v?(d=await r(c,l),d&&u&&u.setAttribute("fill","none")):(d=await n(c,l),d&&u&&u.setAttribute("fill","currentColor")),d){const h=t.closest(".instant");if(h){const m=h.dataset;m.is_favorited=(!v).toString()}}}catch(d){console.error("Favorite action failed:",d)}})})})}),document.querySelectorAll(".instant-action-button:not(.favorite-btn):not(.webshare):not(.download-btn)").forEach(n=>{["click","mousedown","touchstart"].forEach(r=>{n.addEventListener(r,i=>{i.stopPropagation(),i.preventDefault()},{passive:!1})}),n.addEventListener("click",async r=>{r.stopPropagation(),r.preventDefault();const i=n.getAttribute("data-sound-id");function e(o){return o.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const a=n.closest(".instant")?.querySelector(".instant-link")?.textContent||"",t=`${window.location.origin}/instant/${e(a)}-${i}`;g(t)})}),document.querySelectorAll(".webshare").forEach(n=>{["click","mousedown","touchstart"].forEach(r=>{n.addEventListener(r,i=>{i.stopPropagation(),i.preventDefault()},{passive:!1})}),n.addEventListener("click",async r=>{r.stopPropagation(),r.preventDefault();const i=n.getAttribute("data-sound-id");function e(o){return o.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const a=n.closest(".instant")?.querySelector(".instant-link")?.textContent||"",t=`${window.location.origin}/instant/${e(a)}-${i}`;y(a,t)})}),document.querySelectorAll(".download-btn").forEach(n=>{["click","mousedown","touchstart"].forEach(r=>{n.addEventListener(r,i=>{i.stopPropagation(),i.preventDefault()},{passive:!1})}),n.addEventListener("click",async r=>{r.preventDefault(),r.stopPropagation();const i=n.innerHTML;n.innerHTML=`
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" class="animate-spin" style="color: #2ECC71;">
             <path d="M21 12a9 9 0 1 1-6.219-8.56" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        `,n.style.pointerEvents="none";const e=n.getAttribute("href"),a=n.getAttribute("download")||"sound.mp3";try{const t=await fetch(e);if(!t.ok)throw new Error("Download failed");const o=await t.blob(),s=window.URL.createObjectURL(o),c=document.createElement("a");c.href=s,c.download=a,document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(s),n.innerHTML=i,n.style.pointerEvents=""}catch(t){console.error("Fetch download failed, falling back to direct link:",t);const o=document.createElement("iframe");o.style.display="none",o.src=e,document.body.appendChild(o),setTimeout(()=>{document.body.removeChild(o)},6e4),setTimeout(()=>{n.innerHTML=i,n.style.pointerEvents=""},2e3)}})})}function y(n,r){const i=document.getElementById("custom-share-overlay");i&&i.remove();const e=encodeURIComponent(r),a=encodeURIComponent(n),t=[{name:"X",icon:'<path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>',url:`https://x.com/intent/tweet?text=${a}&url=${e}`},{name:"Facebook",icon:'<path d="M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036c-2.148 0-2.791 1.657-2.791 3.914v3.218h2.756l-.448 3.668h-2.308v7.98H9.101z"/>',url:`https://www.facebook.com/sharer/sharer.php?u=${e}`},{name:"Instagram",icon:'<path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 1 0 0 12.324 6.162 6.162 0 0 0 0-12.324zM12 16a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm6.406-11.845a1.44 1.44 0 1 0 0 2.881 1.44 1.44 0 0 0 0-2.881z"/>',url:"https://www.instagram.com/"},{name:"WhatsApp",icon:'<path d="M12.031 6.172c-3.181 0-5.767 2.586-5.768 5.766-.001 1.298.38 2.27 1.019 3.287l-.711 2.598 2.664-.698c.61.591 1.495 1.019 2.796 1.019 3.181 0 5.768-2.586 5.768-5.766 0-3.18-2.587-5.766-5.768-5.766zm0 10.162c-2.267 0-4.168-1.95-4.168-4.396 0-2.445 1.901-4.396 4.168-4.396 2.267 0 4.168 1.95 4.168 4.396 0 2.446-1.901 4.396-4.168 4.396zM12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm.019 19.332h-.005a7.296 7.296 0 0 1-3.719-1.019l-2.766.725.738-2.697a7.293 7.293 0 0 1-1.116-3.889c0-4.029 3.279-7.308 7.308-7.308s7.308 3.279 7.308 7.308-3.279 7.308-7.308 7.308z"/>',url:`https://wa.me/?text=${a} - ${e}`},{name:"Telegram",icon:'<path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-1.447-1.21-1.44-2.075.01-.21.073-.366.21-.463.104-.071.185-.143.256-.165a.528.528 0 0 1 .212-.03c.173.04.39.234.57.406.226.226.415.5.56.692.157.218.422.331.642.264.209-.065.353-.222.437-.442.164-.444.337-1.18.54-2.246.116-.595.252-1.247.418-1.953.166-.702.353-1.404.542-2.106.189-.696.388-1.394.591-2.091a.722.722 0 0 1 .163-.25.388.388 0 0 1 .251-.126c.057 0 .163.008.235.059.09.064.162.171.19.287.029.124.041.261.041.403 0 .084-.01.167-.029.25-.035.187-.112.39-.249.608-.063.107-.147.201-.243.279-.224.164-.497.143-.704-.07-.106-.11-.185-.267-.194-.438-.015-.265.017-.563.072-.846.072-.418.182-.835.392-1.194.382-.735 1.065-1.264 1.913-1.264z"/>',url:`https://t.me/share/url?url=${e}&text=${a}`},{name:"Reddit",icon:'<path d="M22 11.5c0-.825-.675-1.5-1.5-1.5a1.5 1.5 0 0 0-1.15.545c-1.6-.745-3.692-1.218-5.968-1.263l1.24-4.832 3.636.852a1.503 1.503 0 1 0 .232-.97L14.47 3.328a.5.5 0 0 0-.585.34l-1.42 5.536a.498.498 0 0 0 .02.266c-2.348.106-4.51.597-6.136 1.378A1.5 1.5 0 0 0 5 10a1.5 1.5 0 0 0-1.5 1.5c0 .64.408 1.187.986 1.406-.05.27-.086.545-.086.824 0 4.143 4.5 7.5 7.6 7.5s7.6-3.357 7.6-7.5c0-.28-.036-.554-.086-.824A1.503 1.503 0 0 0 22 11.5zM12 19c-2.056 0-3.8-1.07-3.8-2.6 0-1.53 1.744-2.6 3.8-2.6s3.8 1.07 3.8 2.6c0 1.53-1.744 2.6-3.8 2.6zm-4-4.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm8 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>',url:`https://reddit.com/submit?url=${e}&title=${a}`},{name:"LinkedIn",icon:'<path d="M4.98 3.5c0 1.381-1.11 2.5-2.48 2.5s-2.48-1.119-2.48-2.5c0-1.38 1.11-2.5 2.48-2.5s2.48 1.12 2.48 2.5zm.02 4.5h-5v16h5v-16zm7.982 0h-4.968v16h5v-8.306c0-4.613 6.115-4.954 6.127 0v8.306h4.967v-10.165c0-7.718-8.245-7.486-11.126-4.364v-1.471z"/>',url:`https://www.linkedin.com/sharing/share-offsite/?url=${e}`},{name:"Pinterest",icon:'<path d="M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.162-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.399.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.951-7.252 4.173 0 7.41 2.967 7.41 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.354-.629-2.758-1.379l-.749 2.848c-.269 1.045-1.004 2.352-1.498 3.146 1.123.345 2.306.535 3.55.535 6.607 0 11.985-5.365 11.985-11.987C23.97 5.367 18.62 0 12.017 0z"/>',url:`https://pinterest.com/pin/create/button/?url=${e}&description=${a}`},{name:"Tumblr",icon:'<path d="M16.942 16.577h2.89v4.295c0 .358.01 1.637-1.353 2.476-1.558.955-4.116.711-4.75.642-4.102-.387-5.011-3.268-5.011-3.268v-4.145H6.205V12.78c1.782-.167 3.585-1.282 4.2-3.132.327-1.053.4-2.812.38-3.648h4.086v3.425h4.877v3.778h-4.877v3.636c0 .991.246 1.487.697 1.765.452.278 1.109.119 1.474-.265.178-.19.341-.536.42-.727l-.522.965z"/>',url:`https://www.tumblr.com/widgets/share/tool?canonicalUrl=${e}`},{name:"Email",icon:'<path d="M2.25 6h19.5c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 21.75 20H2.25A1.75 1.75 0 0 1 .5 18.25V7.75C.5 6.784 1.284 6 2.25 6zm.309 2.24l7.984 5.989a2.5 2.5 0 0 0 2.914 0l7.984-5.989A.256.256 0 0 0 21.36 8H2.64c-.218 0-.332.228-.081.24zM22.5 9.771l-8.498 6.374a4.001 4.001 0 0 1-4.804-.085L2.5 9.873V18.25c0 .138.112.25.25.25h18.5a.25.25 0 0 0 .25-.25V9.771z"/>',url:`mailto:?subject=${a}&body=${e}`}],o=document.createElement("div");o.className="share-dialog-overlay",o.id="custom-share-overlay",o.innerHTML=`
      <div class="share-dialog">
        <div class="share-dialog-header">
          <div class="share-dialog-title">
            <div class="share-dialog-icon">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/>
              </svg>
            </div>
            <div class="share-dialog-text">
              <h3>Share Sound</h3>
              <p>${n}</p>
            </div>
          </div>
          <button class="share-close-btn" id="close-share-overlay">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>
        
        <div class="share-grid">
          ${t.map(d=>`
            <a href="${d.url}" class="share-item" target="_blank" rel="noopener noreferrer">
              <div class="share-item-icon">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                  ${d.icon}
                </svg>
              </div>
              <span class="share-item-label">${d.name}</span>
            </a>
          `).join("")}
        </div>

        <div class="share-footer">
          <div class="copy-link-container">
            <span class="copy-link-label">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
              </svg>
              Copy Link
            </span>
            <div class="copy-input-wrapper">
              <input type="text" class="share-url-input" value="${r}" readonly />
              <button class="copy-btn" id="share-copy-btn">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                  <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                </svg>
                Copy
              </button>
            </div>
          </div>

          <button class="native-share-btn" id="native-share-btn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="18" cy="5" r="3"></circle>
              <circle cx="6" cy="12" r="3"></circle>
              <circle cx="18" cy="19" r="3"></circle>
              <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
              <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
            </svg>
            Share via Device
          </button>
        </div>
      </div>
    `,document.body.appendChild(o),requestAnimationFrame(()=>{o.classList.add("active")});const s=document.getElementById("close-share-overlay"),c=document.getElementById("share-copy-btn"),l=document.getElementById("native-share-btn"),u=o.querySelector(".share-url-input"),v=()=>{o.classList.remove("active"),setTimeout(()=>o.remove(),200)};s.addEventListener("click",v),o.addEventListener("click",d=>{d.target===o&&v()}),c.addEventListener("click",async()=>{u.select(),u.setSelectionRange(0,99999);try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(r);else throw new Error("Clipboard API unavailable")}catch{try{document.execCommand("copy")}catch(m){console.error("Copy failed:",m);return}}const d=c.innerHTML;c.innerHTML=`
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
        Copied!
      `,c.style.background="#2e7d32",setTimeout(()=>{c.innerHTML=d,c.style.background=""},2e3)}),l.addEventListener("click",()=>{navigator.share?(navigator.share({title:n,url:r}).catch(console.error),v()):c.click()})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",p):p();
